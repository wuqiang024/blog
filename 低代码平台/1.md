<!--
 * @Author: wuqiang
 * @Date: 2022-05-06 10:29:53
 * @LastEditors: wuqiang
 * @LastEditTime: 2022-05-11 19:27:14
-->
## 什么是低代码
***
低代码就是只需要写很少的代码或者是0代码就能快速生成应用程序的开发平台。通过可视化进行应用程序开发的方法，具有不同经验水平的开发人员或者一些不具有开发经验的业务人员，能够通过图形化的用户界面，
使用`拖拽组件`和`数据模型驱动`的方式来创建网页或者app等应用。

低代码开发平台（LCDP）本身也是一种软件，它为开发者提供了一个创建应用软件的开发环境。对于程序员而言，低代码开发平台的性质与 IDEA、VS 等代码 IDE（集成开发环境）几乎一样，都是服务于开发者的生产力工具。


与传统代码 IDE 不同的是，低代码开发平台提供的是更高维和易用的可视化 IDE。大多数情况下，开发者并不需要使用传统的手写代码方式进行编程，而是可以通过图形化拖拽、参数配置等更高效的方式完成开发工作。

严格意义上来说，咱们的需求应该是更偏向0代码一些，但是因为要进行一些属性的设置，所以也可以成为低代码，用到的ant desing pro其实也可以算是低代码，

## 低代码平台一般具有哪些要素
***
1、数据模型驱动(最核心)
2、可视化开发(最核心)
3、扩展性
4、工程化

### 数据模型驱动
***
可以通过对页面进行操作来定义一个数据模型(实质上可以通过一个json串来映射，有点类似虚拟dom)，能够灵活的定义数据模型的属性，自由的组装数据模型，对数据模型进行关联等。


1、模型定义
进行数据模型的定义，保证模型的语义化，简易化，结构清晰，最好包括模型唯一标识，公共属性，私有属性，拓展属性等。

2、模型关联
建立数据模型和模型之间的关系。表现有1对1，1对n和n对n等关系

3、数据操作
基于数据模型提供一个CRUD操作，让应用能够操作该数据模型

### 可视化开发
***
由于使用平台的很可能是一些不懂技术的业务人员，所以将平台的操作可视化，傻瓜化也是低代码平台的一个很核心的要点，让用户能够通过简单的拖拽或者输入，能够形成一个想要的页面，该页面能够自动部署在线上，供相关人员操作。

### 扩展性
***
指低代码平台是否可以提供一些机制来进行扩展。(初期需要进行一些考虑和详细的考察，以便后期能够灵活的满足一些新的功能需求，尽量避免后期重构)

1、数据模型的扩展
可以增加一些新的组件和属性，现有数据模型可支持扩展，不影响以前的，还能满足后续的。有点类似于基类的概念，后续新加的类科技对基类进行继承。

<!-- 2、逻辑扩展
低代码平台能否通过定义一些流程图进行业务逻辑的扩展。执行if,else进行逻辑上的一些调用 -->

2、使用场景扩展
低代码平台是否可以接入新的业务场景，在开发周期，多进行发散性的思维，多给自己留后路，以便可以接纳新的成员和组件属性

### 工程化
***
低代码平台是否可以进行本地调试，版本控制，自动构建发布上线，免运维，监控以及数据统计的一些能力。

1、预知能力
低代码平台要支持本地调试能力，就是能够进行预览，操作，查看效果等，让产品结果出来之前能够提前把握住。以及一些适配能力。包括不限于pc和mobile

2、版本管理
低代码平台可以进行版本回退/恢复等功能，以及复制，开启/关闭，查看历史等功能，不会影响到发布态产物。

3、自动化
可以自动构建发布上线，免运维，配套监控和数据统计的一系列功能


## 低代码平台的实现
现在市面上的低代码平台，大多数由以下几个功能模块组成
1、JSON Schema(或者说是元数据，用来描述json的数据，类似ts中的interface)
主要是描述json数据，针对不同的应用场景，我们想约定json的数据包括哪些字段，字段的类型甚至依赖关系。JSON Schema本身就是json写的，换句话说他就是json。

2、表单数据校验

3、拖拽功能一般有下面一些第三方组件
1、vuedraggable
2、vue-draggable-resizable 
3、HTML5原生拖拽/拖放 Drag & Drop 
4、easy-drag（原生js）
6、react-dragable 和 react-resiable 两个库来实现拖拽和缩放
8、@shopify/draggable （原生js start多，用户多）
9、react-dnd（React）

4、画布模块
一般的画布模块以16:9和4:3居多

## 实现方案
***

![https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/699cfd5d82564405b4e681562ca1ba4f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1434:0:0:0.awebp](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/699cfd5d82564405b4e681562ca1ba4f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1434:0:0:0.awebp)

1、组件区
2、编辑区（提供使用者编辑，拖拽，预览等功能)
3、配置区（单个组件的常用属性，包括高宽，颜色等)

通过左侧组件区选择组件添加到编辑区，通过动态组件特性渲染出每个元素组件。


## 编辑器到实现原理
编辑器生成页面JSON数据，服务端负责存取JSON数据，渲染时从服务端读取JSON数据交给前端模版处理。
拖拽 -> JSON Tree——> 页面

## 比较有名的低代码平台

h5-Dooring （React、Ant-design）
百度-amis 文档 例子（React）
vue-layout （Vue）
阿里巴巴-formily （React、Ant Design）
阿里巴巴-alist
luban(鲁班 H5) （Ant Design、Vue）
Sparrow（基于Vue、Element-ui）
wti-form（低代码表单组件，基于 Element-ui 二次开发）
JeecgBoot（Ant Design、Vue）
diboot（Ant Design、Vue）
Variant Form（Vue Element）
GrapesJS —— craft.js (GrapesJS 是一款国外的页面编辑器框架)


## 为什么要开发低代码平台
1、可以将一些不太复杂的交互应用交给更懂业务的产品和使用者去开发，将开发人员解放出来，
2、一些功能性较为复杂，但是重复性比较高的工作可以通过模版的方式进行提前定制，一个方便业务和产品使用，另外可以大大降低开发人员的重复工作
3、将组件和一些功能，通过特定领域语言(一般表现为json),以配置的方式取代编程的方式去展现，所有内容可以通过数据的方式保存在数据库中，即便以后的框架或者工具发生了变化和升级或者废弃，数据还是存在，能够将数据和固定的平台或框架进行解偶
4、基于3的基础上，只要渲染引擎一样，或者渲染引擎能够通过某种接口，将数据结构转换为适应自己的结构，我们可以一套数据库里的数据，同时应用到多个项目平台
5、良好的低代码平台不仅可以让前端自由扩展，还可以让后端解耦，比如，我们通过低代码平台生成一个表单，需要与后端进行交互，如果后端逻辑发生了变化，则可以通过修改表单的url请求地址，将数据和url传递给后端，后端根据这个url自己去进行处理，而不是通过前端请求的方式。

## 低代码平台有哪些缺陷
1、低代码开发不能应付复杂场景需求
目前市面上的低代码开发平台或框架，大多只能满足基本的和稍微复杂点的需求，碰到复杂度比较高的交互或逻辑就无法响应，或者需要进行二次开发，有时候因为在搭建平台的时候考虑不周，要满足一个很小的需求都基本要把该模块重构

2、低代码开发不可控。
平台上的组件和操作都是封装好的，对于使用者完全属于黑盒状态，一旦出了问题，不太好排查和解决

3、难以维护。
一个平台，如果使用者用起来很流畅，大部分原因肯定是因为开发者把使用过程中的不好体验考虑到了，通过代码的完善让用户的使用体验显得比较丝滑，这样就会带来代码的难以维护，在代码的可维护性，和用户的体验等级之间，需要做一些平衡和取舍。