## Cookie
HTTP是无状态的web通信服务器协议，什么是无状态呢？就是一次对话完成后下一次对话完全不知道上一次对话发生了什么。如果在web服务器里只是用来管理静态文件还好说，对付是谁并不重要，把文件从磁盘中读取出来发送出去即可。但是随着网络的发展，比如电商中的购物车只有记住了用户的身份才能够执行接下来的一系列动作。所以此时就需要我们无状态的服务器记住一些事情。

那么web服务器是如何记住一些事情的呢？既然web服务器记不住东西，那么我们就在外部想办法解决，相当于服务器给每个客户端都贴上了一个小纸条。上面记录了服务器给我么返回的一些信息。然后服务器看到这张小纸条就知道我们是谁了。那么Cookie是谁产生的呢？`Cookie是服务器产生的`。接下来我们描述下`Cookie`产生的过程。

* 浏览器第一次访问服务器时，服务器肯定不知道他的身份，所以创建一个特殊的身份标识数据，格式为`key=value`，放到`Set-Cookie`字段，随着响应报文发送给浏览器。

* 浏览器看到有`Set-Cookie`字段以后就知道这是服务器给的身份标识，于是就保存起来，下次请求时就会自动将`key=value`值放入到`Cookie`字段中发送到服务端。

* 服务端收到请求报文后，发现`Cookie`字段中有值，就能根据此值识别用户的身份然后提供个性化服务。

如下图所示：

![https://user-gold-cdn.xitu.io/2019/12/2/16ec5a45ba0ba9f6?imageView2/0/w/1280/h/960/format/webp/ignore-error/1](https://user-gold-cdn.xitu.io/2019/12/2/16ec5a45ba0ba9f6?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)